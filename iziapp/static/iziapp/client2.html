<!DOCTYPE html>
<!-- Defintition Header -->
<html>


<head>
    <!-- Chargement de Dojo -->
    <script
        src="dojo/dojo.js"
        data-dojo-config="async: true, parseOnLoad:true">
    </script>


    <meta charset="utf-8">
    <title>LiziFacturation</title>

    <!-- chargement des feuilles de styles -->
    <link rel="stylesheet" href="dijit/themes/claro/claro.css">
    <link rel="stylesheet" href="css/style.css" media="screen">

</head>


<body class="claro">

<!-- chargement des modules dojo et dijit -->
<script>
require([
            "dojo/parser",
            "dijit/layout/BorderContainer",
            "dijit/layout/TabContainer",
            "dijit/layout/ContentPane"
        ]);
</script>


<!-- Definition du Layout -->
<div
    id="appLayout" class="demoLayout"
    data-dojo-type="dijit/layout/BorderContainer"
    data-dojo-props="design: 'headline'">


<!-- Panneau Central -->
    <div
        class="centerPanel"
        data-dojo-type="dijit/layout/ContentPane"
        data-dojo-props="region: 'center'">
<script>
require([
"ClientController",
]);
</script>

<div id="gridplace"></div>>

    </div>
<!-- Panneau Supérieur -->
<div
    class="edgePanel"
    data-dojo-type="dijit/layout/ContentPane"
    data-dojo-props="region: 'top'">LiziFacturation

<!-- Bouton Client -->
<button id="boutonsynthese"></button>
<button id="boutonfacture"></button>
<button id="boutondevis"></button>
<button id="boutonclient"></button>
<button id="boutonproduit"></button>
<button id="boutonoptions"></button>

</div>

<script>
require(["dijit/form/Button", "dojo/domReady!"],
function(Button) {

        var button1 = new Button({
            label: "Synthèse",
            style: "font-size: 20px",
            class: "buttonleft",
            onClick: function(){document.location.href='/web/app_dev.php/client'}}, "boutonsynthese");
            button1.startup();

        var button2 = new Button({
            label: "Facture",
            style: "font-size: 20px",
            class: "button",
            onClick: function(){document.location.href='/web/app_dev.php/facture'}}, "boutonfacture");
            button2.startup();

        var button3 = new Button({
            label: "Devis",
            style: "font-size: 20px",
            class: "button",
            onClick: function(){document.location.href='/web/app_dev.php/client'}}, "boutondevis");
            button3.startup();

        var button4 = new Button({
            label: "Client",
            style: "font-size: 20px",
            class: "button",
            onClick: function(){document.location.href='/web/app_dev.php/client'}}, "boutonclient");
            button4.startup();

        var button5 = new Button({
            label: "Produit",
            style: "font-size: 20px",
            class: "button",
            onClick: function(){document.location.href='/web/app_dev.php/client'}}, "boutonproduit");
            button5.startup();

        var button6 = new Button({
            label: "Options",
            style: "font-size: 20px",
            class: "button",
            onClick: function(){document.location.href='/web/app_dev.php/client'}}, "boutonoptions");
            button6.startup();
});
</script>

<!-- Panneau Gauche -->
    <div
        id="leftCol" class="edgePanel"
        data-dojo-type="dijit/layout/ContentPane"
        data-dojo-props="region: 'left', splitter: true">Menu

        <button id="boutonlisteclient"></button>
        <button id="boutoncreerclient"></button>
        <button id="boutonmodifierclient"></button>

            <script>
        require(["dijit/form/Button", "dojo/domReady!"],
         function(Button) {

            var buttoncreerclient = new Button({
                label: "Créer Client",
                style: "font-size: 20px",
                onClick: function(){document.location.href='/web/app_dev.php/client'}}, "boutoncreerclient");
                buttoncreerclient.startup();

           var buttonmodifierclient = new Button({
                label: "Modifier Client",
                    style: "font-size: 20px",
                    onClick: function(){document.location.href='/web/app_dev.php/client'}}, "boutonmodifierclient");
                    buttonmodifierclient.startup();

            var buttonlisteclient = new Button({
                    label: "Liste des Clients",
                        style: "font-size: 20px",
                        onClick: function(){document.location.href='/web/app_dev.php/client/liste'}}, "boutonlisteclient");
                    buttonlisteclient.startup();

                });
            </script>

    </div>


<!-- Panneau Bas -->
 <div
        class="edgePanel"
        data-dojo-type="dijit/layout/ContentPane"
        data-dojo-props="region: 'bottom', splitter: true">Bottom
</div>

<div id="results"> message</div>


</div>


</script>
</body>



<!-- Javascript -->

<script>
require(["dojo/store/JsonRest", "dojo/data/ObjectStore"],
    function(JsonRest, ObjectStore){
            myStore = new JsonRest({target:'../../customers/'});
    }
);



require([
    "dojox/grid/EnhancedGrid",
    "dojo/data/ObjectStore",
    "dojo/store/JsonRest",
    "dojo/domReady!"
], function(EnhancedGrid, ObjectStore, JsonRest){
    zegrid = new EnhancedGrid({
        selectable: true,
        store: dataStore = new ObjectStore({objectStore: myStore}),
        structure: [
            {name:"Name", field:"name", width: "20px"},
            {name:"Email", field:"email", width: "200px"},
        ],
        rowSelector: '20px'
    }, "gridplace");
    zegrid.startup();

//assuming our grid is stored in a variable called "myGrid":
zegrid.on("RowClick", function(evt){
    var idx = evt.rowIndex,
        rowData = zegrid.getItem(idx);
    // The rowData is returned in an object, last is the last name, first is the first name
    //alert(idx);
                singleStore = new JsonRest({target:'../../customers/'});
                singleStore.get(idx).then(function (idx) {
                        alert ('ok');
                });
    document.getElementById("results").innerHTML =
        "You have clicked on " + rowData.last + ", " + rowData.first + ".";
}, true);

});
</script>

</html>

